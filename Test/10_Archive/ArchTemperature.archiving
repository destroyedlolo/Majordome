-- Database archiving declaration
--	Notez-bien : this object aims to handle day based windows.
-- If you need to archive on plain month basis, write a custom SQL instead.
--
-- name of this archiving
-- if not set, takes the filename
--->> name=toto
--
-- Remove some tracing messages
--->> quiet
--
-- Disable this archiving
--->> disabled
--
--------------------
-- Database related
--------------------
--
--- The database to connect to
---->> Database=database
--
-- The source table
--->> source=source
--
-- The table where data will be inserted
-- if not set, the same as "name"
-->> table=mytable
--
-- Aggregation rule
-- Can be any range supported by SQL's DATE_TRUNC()
-- likes hour, day (default), week, month, year ...
-- Notez-bien : check is done at database level. If an unsupported range
-- is provided, it will create an SQL error.
--> AggregateBy=day
--
-- Archiving kind
-- Allowed are :
--	MinMax : Min / Max / Average statistics (default value)
--	Delta : Delta between the first and the last value
-->> Kind=Delta
--
-- For table feed by namedfeed, indicate the field(s) to group by.
-- If more than one are provided, they are separated by a comma
-->> Keys=counter,figure
--
-- Up to when, following SQL syntax.
-- Will be executed by an SQL sentence like this one :
-- ... where sample_time::date > current_date - interval 'arg'
-- Consequently, argument should be :
-- "3 days" to ignore last 3 days
-- "1 month" to ignore a month
-->> UpTo=1 day

-- to be generated : REMOVE IT.
select distinct( sample_time::date ) from domestik2.electricity_counter 
where sample_time::date < current_date - interval '1 day'
